(this["webpackJsonpsupplier-ms-admin"]=this["webpackJsonpsupplier-ms-admin"]||[]).push([[4],{1239:function(e,t,a){"use strict";a.r(t),a.d(t,"MonthlyReportPage",(function(){return P}));var n=a(11),r=a(0),l=a.n(r),c=a(1159),o=a(224),i=a(35),s=a.n(i),m=(a(124),a(81));function u(e){return l.a.createElement(m.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}function d(e,t){return{time:e,amount:t}}d("1st",0),d("5th",300),d("10th",600),d("15th",800),d("20th",1500),d("25th",2e3),d("30th",2400);a(1143);var p=a(75),E=a(1144),h=a(1148),g=a(1147),O=a(1145),f=a(1146);a(30);function S(e,t,a,n,r,l){return{id:e,date:t,name:a,shipTo:n,paymentMethod:r,amount:l}}S(0,"16 Mar, 2019","Elvis Presley","Tupelo, MS","VISA \u2800\u2022\u2022\u2022\u2022 3719",312.44),S(1,"16 Mar, 2019","Paul McCartney","London, UK","VISA \u2800\u2022\u2022\u2022\u2022 2574",866.99),S(2,"16 Mar, 2019","Tom Scholz","Boston, MA","MC \u2800\u2022\u2022\u2022\u2022 1253",100.81),S(3,"16 Mar, 2019","Michael Jackson","Gary, IN","AMEX \u2800\u2022\u2022\u2022\u2022 2000",654.39),S(4,"15 Mar, 2019","Bruce Springsteen","Long Branch, NJ","VISA \u2800\u2022\u2022\u2022\u2022 5919",212.79),Object(p.a)((function(e){return{seeMore:{marginTop:e.spacing(3)}}}));Object(p.a)({depositContext:{flex:1}});var v=Object(p.a)((function(e){return{title:{flexGrow:1}}}));function b(e){var t=v();return l.a.createElement(m.a,{component:"h1",variant:"h4",color:"primary",noWrap:!0,className:t.title},e.children)}var y=a(12),M=a(16),C=a(317),D=a(536),j=a(771),x=a(436),A=a(1210),I=a(19),T=a(15),w=a.n(T);a(36);function N(){var e=Object(M.a)(["\n  query salesOrders($where: SalesOrderWhereInput) {\n    salesOrders(where: $where, orderBy: updatedAt_DESC) {\n      id\n      code\n      shop {\n        id\n        code\n        nameEn\n        nameChi\n        deliveryDay\n        customer {\n          id\n          nameEn\n          nameChi\n        }\n      }\n      grandTotal\n      state\n    }\n  }\n"]);return N=function(){return e},e}var _=w()(N());function L(e){var t=e.setSalesOrders,a=Object(r.useState)([new Date,new Date]),c=Object(n.a)(a,2),o=c[0],i=c[1],s=Object(r.useState)(null),m=Object(n.a)(s,2),d=m[0],p=m[1],E=Object(r.useState)({createdAt_gt:o[0],createdAt_lt:o[1]}),h=Object(n.a)(E,2),g=h[0],O=h[1],f=Object(I.b)(_,{variables:{where:g,orderBy:"updatedAt_DESC"}}),S=f.loading,v=f.data;Object(r.useEffect)((function(){v&&t(v.salesOrders)}),[v]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(u,null,"Select Date"),l.a.createElement(A.a,{format:"DD MMM YYYY",views:["year","month","date"],inputVariant:"filled",fullWidth:!0,variant:"inline",value:o[0],label:"Filter From: ",onChange:function(e){i([e.toISOString(),o[1]]),O(Object(y.a)({},g,{createdAt_gt:e.toISOString(),createdAt_lt:o[1]}))}}),l.a.createElement("h2",null,"-To-"),l.a.createElement(A.a,{minDate:o[0],format:"DD MMM YYYY",views:["year","month","date"],inputVariant:"filled",fullWidth:!0,variant:"inline",value:o[1],label:"Filter To: ",onChange:function(e){i([o[0],e.toISOString()]),O(Object(y.a)({},g,{createdAt_gt:o[0],createdAt_lt:e.toISOString()}))}}),l.a.createElement(C.a,null,l.a.createElement(D.a,{id:"demo-simple-select-label"},"Select Sales Order Status"),l.a.createElement(j.a,{label:"Select Sales Order Status",labelId:"demo-simple-select-label",id:"demo-simple-select",value:d,onChange:function(e){p(e.target.value),O(Object(y.a)({},g,{state:e.target.value})),"ALL"===e.target.value&&O({createdAt_gt:o[0],createdAt_lt:o[1]})}},["ALL","RECEIVED","CONFIRMED","INVOICED","PACKED","DELIVERED","PAID","DELETED"].map((function(e){return l.a.createElement(x.a,{key:e,value:e},e)})))),S?l.a.createElement("h1",null,"Loading..."):l.a.createElement("h1",null,"Completed"))}var V=a(1236),Y=Object(p.a)({depositContext:{flex:1}});function B(e){var t=e.salesOrders,a=void 0===t?[]:t,n=Y(),r=a.reduce((function(e,t){return e+t.grandTotal}),0);return l.a.createElement(l.a.Fragment,null,l.a.createElement(u,null,"Sales Orders Count"),l.a.createElement(c.a,{className:n.depositContext},l.a.createElement(m.a,{color:"textSecondary"},"Total price"),l.a.createElement(m.a,{component:"p",variant:"h4"},l.a.createElement(V.a,{value:r,displayType:"text",thousandSeparator:!0,prefix:"$"}))),l.a.createElement(c.a,{className:n.depositContext},l.a.createElement(m.a,{color:"textSecondary"},"Quantity"),l.a.createElement(m.a,{component:"p",variant:"h4"},a.length)))}var F=Object(p.a)((function(e){return{seeMore:{marginTop:e.spacing(3)}}}));function R(e){var t=e.salesOrders,a=void 0===t?[]:t;F();return l.a.createElement(l.a.Fragment,null,l.a.createElement(u,null,"Recent Orders"),l.a.createElement(E.a,{size:"small"},l.a.createElement(O.a,null,l.a.createElement(f.a,null,l.a.createElement(g.a,null,"Sales Order Number"),l.a.createElement(g.a,null,"Customer"),l.a.createElement(g.a,null,"Customer Shop"),l.a.createElement(g.a,null,"Status"),l.a.createElement(g.a,{align:"right"},"Grand total"))),l.a.createElement(h.a,null,a.map((function(e){return l.a.createElement(f.a,{key:e.id},l.a.createElement(g.a,null,e.code),l.a.createElement(g.a,null,e.shop.customer.nameEn),l.a.createElement(g.a,null,e.shop.nameEn),l.a.createElement(g.a,null,e.state),l.a.createElement(g.a,{align:"right"},l.a.createElement(V.a,{value:e.grandTotal,displayType:"text",thousandSeparator:!0,prefix:"$"})))})))))}var k=s()((function(e){return{container:{paddingTop:e.spacing(16),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:340}}}));function P(){var e=k(),t=Object(r.useState)(),a=Object(n.a)(t,2),i=a[0],s=a[1];return l.a.createElement(c.a,{container:!0,spacing:3},l.a.createElement(c.a,{item:!0,xs:12},l.a.createElement(b,null,"Sales Orders Report")),l.a.createElement(c.a,{item:!0,xs:12,md:4,lg:3},l.a.createElement(o.a,{className:e.paper},l.a.createElement(L,{setSalesOrders:s}))),l.a.createElement(c.a,{item:!0,xs:12,md:4,lg:3},l.a.createElement(o.a,{className:e.paper},l.a.createElement(B,{salesOrders:i}))),l.a.createElement(c.a,{item:!0,xs:12},l.a.createElement(o.a,{className:e.paper},l.a.createElement(R,{salesOrders:i}))))}t.default=P}}]);
//# sourceMappingURL=4.f8abfbfa.chunk.js.map